<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="board">
	<!-- 프로필 작성 -->
	<insert id="insertProfile" parameterType="p">
		insert into profile values(p_seq.nextval,#{pWriter},#{pGender},#{pAge},#{pLocal},#{pSmoke},#{pPet},#{pCleaning},#{pPattern})
	</insert>
	
	<!-- 프로필 조회 -->
	<select id="selectProfile" parameterType="String" resultType="p">
		select 
			p_no as pNo,
			p_writer as pWriter,
			p_gender as pGender,
			p_age as pAge,
			p_local as pLocal,
			p_smoke as pSmoke,
			p_pet as pPet,
			p_cleaning as pCleaning,
			p_pattern as pPattern
		from profile where p_writer=#{memberId}
	</select>
	
	<update id="updateProfile" parameterType="p">
		update profile set 
			p_writer=#{pWriter},
			p_gender=#{pGender},
			p_age=#{pAge},
			p_local=#{pLocal},
			p_smoke=#{pSmoke},
			p_pet=#{pPet},
			p_cleaning=#{pCleaning},
			p_pattern=#{pPattern}
		where p_writer=#{pWriter}
	</update>
	
	<!-- 프로필 삭제 -->
	<delete id="deleteProfile" parameterType="String">
		delete from profile where p_writer=#{pWriter}
	</delete>
	
	<!-- 게시글 목록 조회 -->
	<select id="boardList" resultType="b">
		select 
			board_no as boardNo,
			board_writer as boardWriter,
			board_title as boardTitle,
			board_content as boardContent,
			read_count as readCount,
			reg_date as regDate,
			filepath,
			option,
			status
		from board					
	</select>
	
	<!-- 게시글 작성 -->
	<insert id="insertBoard" parameterType="b">
		insert into board values(board_seq.nextval,#{boardWriter},#{boardTitle},#{boardContent},
		0,to_char(sysdate,'yyyy-dd-mm'),#{filePath},0,#{status})
	</insert>
</mapper>





